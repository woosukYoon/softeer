## 리뷰
## 주요 진행 활동
- Spark 최적화 강의
- 다노님 피드백
- 주제 선정 및 구체화

## 새롭게 알게 된 내용

### Optimizing Spark Job
**특정 데이터**에 대한 job을 최적화해야 함.

Advantage of Columnar storage

1. 열의 값들은 비슷한 자료형과, 알고리즘을 사용하기 때문에 압축에서 효율적이다.
2. 모든 행을 읽을 필요가 없다.
3. 하나의 열에서 연산을 할 때 매우 빠르다
4. 하나의 열을 필터링할 때 매우 빠르다
5. 큰 데이터셋 분석에서 매우 빠르다
6. 존재하는 데이터에 대한 방해없이 새로운 열을 추가하고 바꾸는 것이 가능하다.

Apache Parquet은 전체 열의 부분 집합에 접근할 때 매우 효과적이다.

Spark는 완전한 in-memory tool은 아니고, LRU cache를 사용한다. 하둡에서는 로컬 디스크를 사용하는 것과 차이가 존재하기에 속도가 더 빠른 것이다.

java heap memory 지정 요소</br>
→ spark memory 지정.</br>
→ spark storage memory 지정.</br>
데이터 용량이 결정되어야 적절한 메모리를 지정할 수 있다.

Transformation Optimization

- Use the sortWithinPartitions → 셔플이 일어남</br>
- Use the repartitionByRange → 셔플을 최소화함</br>
- Use the window function → 셔플을 trigger하지 않는다.</br>
- Use filtering and aggregation instead of groupby → not trigger shuffling</br>

Broadcasting</br>
Join 연산에서 사용. small data를 캐쉬 데이터에 넣어놓고, 큰 dataset을 쪼개서 각 node에서 비교. 


## 느낀점	
오늘은 강의 시간에 spark를 이용해서 최적화하는 방법을 공부했다. 지난 주 미션을 통해 이해했던 부분과 배운 내용을 연결하면서 잘못 이해하고 있는 부분을 고치고, 새로운 기법에 대해서 배우는 시간이 되었다. 이를 기반으로 더욱 더 학습하면서, 향후 프로젝트 transform 과정을 최적화할 수 있도록 해야겠다.</br>
또한 오늘은 무조건 프로젝트 주제를 고정해야겠다고 생각했었는데 다행히 이를 성공해서 기뻤다. 마지못해 주제를 선정한 것이 아니었기에 심적으로도 매우 안정이 되었다. 유의미한 주제를 오후 시간에 떠올렸고, 다노님과의 피드백 과정에서, 그리고 팀원들과의 추가적인 회의 과정에서 아이디어가 구체화되며 프로젝트 주제를 선정할 수 있었다. 이 아이디어를 잘 발전시키면서 최종 프로젝트를 잘 마무리하고 싶다.

## 앞으로의 학습 방향
EMR 구축하기</br>
오늘 배운 최적화 기법을 프로젝트에 적용하기</br>
Extract 코드 작성

## 회고
## Keep
오늘 팀원들과 되게 많은 소통을 하면서 각자의 생각에 대해 온전히 표현했다고 생각한다. 이 과정에서 좋은 아이디어도 나왔으며, 프로젝트의 진행 계획도 구체화되었다. 또한 계속해서 의견을 주저없이 나누다보니, 피드백을 통해 각자의 논리에서 문제점을 발견하고 같이 이를 개선하면서 전체적인 프로덕트의 내용도 향상되었다고 생각한다. 앞으로도 주저없이 각자의 의견을 공유할 수 있는 분위기를 이어가야겠다.

## Problem
프로젝트 주제를 선정하고 구현 방법에 대한 구체화를 진행할 때, 지금 당장은 고민하지 않아도 되는 우선 순위가 낮은 파트에 대한 이야기를 나누느라 시간을 꽤 많이 소비했다고 생각한다. 팀 활동을 진행할 때도 당장의 우선 순위가 높지 않아보이는 내용에 대한 토의를 줄여야 효율적인 협업이 될 수 있음을 깨달았다. 또한, 구현을 진행하면서 발생하는 어려움과 계획의 변경이 일어나기 때문에, 계획 단계에서 판단을 내릴 수 없는 부분은 시행착오를 겪으면서 해결하는 것이 더욱 더 현실적이고 효과적인 방법이 될 것이라고 판단했다. 앞으로는 두 가지를 유념하며 토의를 진행하면서 효과적인 협업을 이룩할 수 있도록 노력해야겠다.

## Try
3주 동안은 운동하는 시간을 저녁 시간대로 옮기고, 빈도를 격일로 줄여야겠다. 이를 통해, 프로젝트에 투자하는 시간을 늘리고, 밤에 프로젝트에 몰두할 수 있도록 해야겠다. 